# ===========================================
# Slop Studios - Local Self-Hosted Config
# ===========================================
# Copy to .env for local deployment with Claude CLI
#
# This configuration runs the backend natively (not in Docker)
# so it can access your authenticated Claude CLI.

# -----------------------------
# Application Settings
# -----------------------------
NODE_ENV=development
PORT=3000
HOST=0.0.0.0
LOG_LEVEL=info

# -----------------------------
# Database (Docker container)
# -----------------------------
DATABASE_URL=postgresql://postgres:postgres@localhost:5432/slopstudios3

# -----------------------------
# Redis (Docker container)
# -----------------------------
REDIS_URL=redis://localhost:6379

# -----------------------------
# Security
# -----------------------------
# Generate with: openssl rand -hex 32
JWT_SECRET=change-this-to-a-random-string-for-production
APP_SECRET=change-this-to-another-random-string

# JWT expiration
JWT_EXPIRES_IN=7d

# -----------------------------
# CORS
# -----------------------------
# Allow all origins (Cloudflare Tunnel handles security)
CORS_ORIGIN=*
CORS_CREDENTIALS=true

# -----------------------------
# Claude CLI Configuration
# -----------------------------
# Path to Claude CLI (auto-detected if in PATH)
# CLAUDE_CLI_PATH=/usr/local/bin/claude

# Max concurrent Claude processes (protects your subscription)
CLAUDE_MAX_CONCURRENT_PROCESSES=5

# Process timeout (5 minutes)
CLAUDE_PROCESS_TIMEOUT_MS=300000

# Queue settings
CLAUDE_ENABLE_QUEUE=true
CLAUDE_MAX_QUEUE_SIZE=100

# Retry settings for transient failures
CLAUDE_MAX_RETRIES=3
CLAUDE_RETRY_DELAY_MS=1000

# API fallback (disabled - using CLI only)
CLAUDE_USE_API_FALLBACK=false

# -----------------------------
# Rate Limiting
# -----------------------------
# Per-user limits to protect your subscription
RATE_LIMIT_WINDOW_MS=900000
RATE_LIMIT_MAX_REQUESTS=100

# -----------------------------
# Session
# -----------------------------
SESSION_TTL=86400
